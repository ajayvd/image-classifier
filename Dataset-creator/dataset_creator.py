# -*- coding: utf-8 -*-
"""Dataset creator.ipynb

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1UnJP7rG1Og05L4QpcG4c8IdjbGIiniPW
"""

#DATA SET CREATOR ----------------> IT WILL STORE IN DATASET FOLDER

import cv2 
import numpy as np
from google.colab.patches import cv2_imshow

cam=cv2.VideoCapture(0);

id=raw_input("enter user id ")
i=0
while (True):
  ret,img=cam.read()  #returns the status and an image 
  #but it has to be converted into a gray scale image which harcascade suits 
  gray=cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)
  faces=facedetect.detectMultiScale(gray,1.3,5) #some optimal value 
  for (x,y,w,h) in faces:
    i=i+1
    cv2.imwrite("dataset/user."+str(id)+"."+str(i)+".jpg",gray[y:y+h,x:x+w])  #create a folder for it 
    cv2.rectangle(img,(x,y),(x+w,y+h),(0,0,255),2) # recatngle will be made on a colour image
    cv2.waitKey(100)
  cv2.imshow("Face",img);
  cv2.waitKey(1);

  if i>20:
    break 
cam.release()
cv2.destroyAllWindows()